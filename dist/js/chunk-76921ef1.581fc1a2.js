(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76921ef1"],{"17c7":function(t,e,i){"use strict";i("d16b")},2902:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{clsss:"container"}},[i("div",{staticClass:"left-panel"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("内存管理——按需调页算法")])]),i("el-card",{staticClass:"card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("指令执行序列")])]),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.executeQueue,stripe:"",height:"250"}},[i("el-table-column",{attrs:{prop:"insNo",label:"指令编号",width:"100"}}),i("el-table-column",{attrs:{prop:"position",label:"指令地址",width:"100"}}),i("el-table-column",{attrs:{prop:"pageNo",label:"所在页号"}})],1)],1),i("el-card",{staticClass:"card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("分配内存块")])]),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.block,stripe:"",height:"250"}},[i("el-table-column",{attrs:{prop:"no",label:"块号",width:"100"}}),i("el-table-column",{attrs:{prop:"pageNo",label:"页号",width:"100"}}),i("el-table-column",{attrs:{prop:"valid",label:"有效位"}}),i("el-table-column",{attrs:{prop:"timeZone",label:"时间域"}})],1)],1),i("el-card",{staticClass:"card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("页面置换记录")])]),i("el-table",{staticStyle:{width:"100%"},attrs:{data:this.replaceRecord,stripe:"",height:"250"}},[i("el-table-column",{attrs:{prop:"insNo",label:"指令编号",width:"100"}}),i("el-table-column",{attrs:{prop:"position",label:"指令地址",width:"100"}}),i("el-table-column",{attrs:{prop:"pageNo",label:"所在页号"}}),i("el-table-column",{attrs:{prop:"inBlock",label:"所在块号"}}),i("el-table-column",{attrs:{prop:"isSwapIn",label:"是否调入"}}),i("el-table-column",{attrs:{prop:"isReplace",label:"是否替换"}}),i("el-table-column",{attrs:{prop:"replaceBlock",label:"替换块"}}),i("el-table-column",{attrs:{prop:"prePage",label:"替换页号"}})],1)],1)],1),i("div",[i("el-card",[i("el-card",[i("el-select",{attrs:{disabled:t.canChoose},model:{value:t.isLru,callback:function(e){t.isLru=e},expression:"isLru"}},t._l(t.options,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),i("el-slider",{attrs:{min:10,max:500,step:1,disabled:t.canChoose},model:{value:t.instructionNumber,callback:function(e){t.instructionNumber=e},expression:"instructionNumber"}}),i("el-tag",[t._v("指令数:"+t._s(t.instructionNumber)+"条")]),i("el-slider",{attrs:{min:1,max:20,step:1,disabled:t.canChoose},model:{value:t.blockNum,callback:function(e){t.blockNum=e},expression:"blockNum"}}),i("el-tag",[t._v("分配内存块数:"+t._s(t.blockNum)+"块")]),i("el-button",{attrs:{type:"primary"},on:{click:t.init}},[t._v("设置/重置")])],1),i("el-card",[i("el-progress",{attrs:{type:"circle",percentage:t.lackPage}}),i("el-tag",[t._v("缺页率")])],1),i("el-card",[i("el-slider",{attrs:{min:200,max:1e3,step:50,disabled:t.isRun},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),i("el-tag",[t._v("执行一条指令的间隔为"+t._s(t.time)+"ms")]),i("el-slider",{attrs:{min:0,max:t.instructionNumber-t.currentInstruction+1,step:1,disabled:t.isRun},model:{value:t.runCount,callback:function(e){t.runCount=e},expression:"runCount"}}),i("el-button",{attrs:{type:"primary",loading:t.isRun,disabled:t.currentInstruction>t.instructionNumber},on:{click:t.execute}},[t._v("执行"+t._s(t.runCount)+"步")])],1),i("el-card",[i("el-button",{attrs:{type:"primary",loading:t.isRun,disabled:t.currentInstruction>t.instructionNumber},on:{click:t.executeOnce}},[t._v("执行一步")]),i("el-button",{attrs:{type:"primary",disabled:t.currentInstruction>t.instructionNumber},on:{click:t.stopExecute}},[t._v("停止执行")])],1)],1)],1)])},r=[],s=(i("a9e3"),{created:function(){this.init()},data:function(){return{currentInstruction:1,startPosition:Number,instructionNumber:320,executeQueue:[],block:[],blockNum:4,isLru:!0,replaceRecord:[],options:[{label:"LRU替换算法",value:!0},{label:"FCFS替换算法",value:!1}],isRun:!1,lackPageCount:0,runCount:1,time:500,interval:-1}},computed:{lackPage:function(){return 1==this.currentInstruction?0:this.lackPageCount/(this.currentInstruction-1)*100},canChoose:function(){return this.currentInstruction>1}},methods:{init:function(){this.stopExecute(),this.executeQueue=[],this.replaceRecord=[],this.block=[],this.isRun=!1,this.currentInstruction=1,this.lackPageCount=0,this.time=500,this.interval=-1,this.startPosition=Math.floor(Math.random()*this.instructionNumber)+1,this.executeQueue.push({insNo:1,position:this.startPosition,pageNo:Math.ceil(this.startPosition/10)});for(var t=0,e=0,i=0,n=1;n<this.instructionNumber;n++)t=n+1,Math.random()<=.25?(e=Math.floor(Math.random()*(this.executeQueue[n-1].position-1))+1,i=Math.ceil(e/10)):Math.random()>=.75?(e=Math.floor(Math.random()*(this.instructionNumber-this.executeQueue[n-1].position))+this.executeQueue[n-1].position+1,i=Math.ceil(e/10)):(e=this.executeQueue[n-1].position+1,e>this.instructionNumber&&(e=Math.floor(Math.random()*this.instructionNumber)+1),i=Math.ceil(e/10)),this.executeQueue.push({insNo:t,position:e,pageNo:i});for(n=0;n<this.blockNum;n++)this.block.push({no:n+1,pageNo:"-",valid:"invalid",timeZone:0})},executeOnce:function(){this.executeInstruction(),this.isRun=!1},execute:function(){var t=this;this.interval=setTimeout((function(){t.interval&&clearInterval(t.interval),t.runCount<1||-1==t.executeInstruction()?t.isRun=!1:(t.runCount--,t.interval=setTimeout(t.execute,t.time))}),this.time)},stopExecute:function(){this.isRun=!1,clearInterval(this.interval)},executeInstruction:function(){if(this.isRun=!0,this.currentInstruction>this.instructionNumber)return alert("指令执行完毕"),this.isRun=!1,-1;var t=this.executeQueue[0].pageNo,e=this.executeQueue[0].insNo,i=this.executeQueue[0].position,n=this.isFreeBlock(t);if(n>-1)this.lackPageCount++,this.block[n].pageNo=t,this.block[n].valid="valid",this.block[n].timeZone=this.currentInstruction,this.replaceRecord.unshift({insNo:e,position:i,pageNo:t,isSwapIn:"yes",isReplace:"no",replaceBlock:"-",prePage:"-",inBlock:n+1});else if(n==-(this.instructionNumber+1)){this.lackPageCount++;var r=this.chooseBlockToReplace(),s=this.block[r].pageNo;this.block[r].pageNo=t,this.block[r].valid="valid",this.block[r].timeZone=this.currentInstruction,this.replaceRecord.unshift({insNo:e,position:i,pageNo:t,isSwapIn:"yes",isReplace:"yes",replaceBlock:r+1,prePage:s,inBlock:r+1})}else n=-n-1,1==this.isLru&&(this.block[n].timeZone=this.currentInstruction),this.replaceRecord.unshift({insNo:e,position:i,pageNo:t,isSwapIn:"no",isReplace:"no",replaceBlock:"-",prePage:"-",inBlock:n+1});return this.executeQueue.shift(),this.currentInstruction++,0},chooseBlockToReplace:function(){for(var t=0,e=0;e<this.block.length;e++)this.block[e].timeZone<this.block[t].timeZone&&(t=e);return t},isFreeBlock:function(t){for(var e=0;e<this.block.length;e++){if("invalid"==this.block[e].valid)return e;if(this.block[e].pageNo==t)return-(e+1)}return-(this.instructionNumber+1)}}}),a=s,o=(i("17c7"),i("2877")),l=Object(o["a"])(a,n,r,!1,null,"2acb6ed0",null);e["default"]=l.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var n=i("1d80"),r=i("5899"),s="["+r+"]",a=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),l=function(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(a,"")),2&t&&(i=i.replace(o,"")),i}};t.exports={start:l(1),end:l(2),trim:l(3)}},7156:function(t,e,i){var n=i("861d"),r=i("d2bb");t.exports=function(t,e,i){var s,a;return r&&"function"==typeof(s=e.constructor)&&s!==i&&n(a=s.prototype)&&a!==i.prototype&&r(t,a),t}},a9e3:function(t,e,i){"use strict";var n=i("83ab"),r=i("da84"),s=i("94ca"),a=i("6eeb"),o=i("5135"),l=i("c6b6"),c=i("7156"),u=i("c04e"),p=i("d039"),h=i("7c73"),b=i("241c").f,d=i("06cf").f,m=i("9bf2").f,f=i("58a8").trim,v="Number",N=r[v],k=N.prototype,g=l(h(k))==v,x=function(t){var e,i,n,r,s,a,o,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=f(c),e=c.charCodeAt(0),43===e||45===e){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(s=c.slice(2),a=s.length,o=0;o<a;o++)if(l=s.charCodeAt(o),l<48||l>r)return NaN;return parseInt(s,n)}return+c};if(s(v,!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var I,C=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof C&&(g?p((function(){k.valueOf.call(i)})):l(i)!=v)?c(new N(x(e)),i,C):x(e)},R=n?b(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),_=0;R.length>_;_++)o(N,I=R[_])&&!o(C,I)&&m(C,I,d(N,I));C.prototype=k,k.constructor=C,a(r,v,C)}},d16b:function(t,e,i){}}]);
//# sourceMappingURL=chunk-76921ef1.581fc1a2.js.map